<!DOCTYPE html>
<html>

<head>
    <title>My App for panda</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui" charset="utf-8">
    <link rel="stylesheet" href="lib/app.min.css">
    <link rel="stylesheet" href="style/main.css">
    <link rel="stylesheet" href="style/hotel.css">
    <link rel="stylesheet" href="style/index.css">
    <style>
    /* TODO */
    </style>
</head>

<body>
    <div class="app-page" data-page="hotel_list">
        <div class="app-topbar blue">
            <div class="app-button left" data-back></div>
            <div class="app-title">酒店列表</div>
        </div>
        <div class="app-content">
            <div class="app-section">
                <ul class="app-list">
                    <li class="app-button" data-target="hotel_detail">汉庭</li>
                    <li class="app-button" data-target="hotel_detail">如家</li>
                    <li class="app-button" data-target="hotel_detail">7天</li>
                </ul>
            </div>
        </div>
    </div>
    <div class="app-page" data-page="hotel_detail">
        <div class="app-topbar blue">
            <div class="app-button left" data-back></div>
            <div class="app-title">酒店详情</div>
        </div>
        <div class="app-content">
            <div class="app-section">
                <div id="js_header" class="hotel-dpage-list hotel-detail-top p10">
                    <h1 class="hotel-info-tit" itemprop="name">上海曼哈顿（外滩）商务酒店</h1>
                    <h4 class="cgray">舒适型酒店</h4>
                    <div class="hotel-dpage-gct" itemprop="aggregateRating" itemscope="" itemtype="http://schema.org/AggregateRating">
                        <a class="js_a_seo" href="/html5/hotel/hoteldetail/pic/375466.html">
                            <div id="js_imgs" class="hotel-g-proimg"><img itemprop="image" content="../images/room.jpg" src="../images/room.jpg" width="65" height="65" onerror="this.style.visibility=&quot;hidden&quot;"> <span class="img-g-bg">21张</span> </div>
                        </a>
                        <a class="js_a_seo" href="/html5/hotel/hoteldetail/dianping/375466.html">
                            <div id="js_comment" class="hotel-detail-clyx hotel-arr">
                                <p class="clyx-line"> <span class="fr js_go2comment" itemprop="reviewCount"><b>7994</b>人点评</span> <em itemprop="ratingValue"><b>4.2</b>分</em> </p>
                                <p class="clyx-txt"><em>位置4.6</em><em>设施3.8</em><em>服务4.1</em><em>卫生4.1</em></p>
                            </div>
                        </a>
                    </div>
                </div>
            </div>
            <div class="app-section">
                <div class="hotel-dpage-list hotel-dpage-roomfilter">
                    <dl class="js_roomfilter_box">
                        <dt class="js_inoutdayedit" id="js_date"><span class="hotel-dpage-currency">修改</span> <span class="dpage-p1"><em class="dpage-p1-date">今天</em><span class="dpage-p1-days fn12">入住1晚</span></span>
                        </dt>
                        <dd class="hotel-dpage-rf hotel-l-border js_room_filter"> <em class="hotel-dpage-focus js_room_filter_amount" style="display: none;"></em> <i class="hotel-icon-rf">筛选房型</i>
                            <br>筛选房型</dd>
                        <dd class="hotel-dpage-rf hotel-l-border js_switchRoomDisplay"><i class="hotel-icon-bygroup">全部楼层</i>
                            <br>全部楼层<select id="choose" style="position: absolute;top: 20px;left: 15px;opacity: 0;">
                                <option value="1">1</option>
                                <option value="2">2</option>
                                <option value="3">3</option>
                            </select></dd>
                    </dl>
                </div>
                <dl class="hotel-category">
                    <dd>
                        商务间
                        <ins>￥540</ins>
                    </dd>
                    <dd>
                        标准间
                        <ins>￥540</ins>
                    </dd>
                    <dd>单人间
                        <ins>￥540</ins>
                    </dd>
                    <dd>豪华标间
                        <ins>￥540</ins>
                    </dd>
                    <dd>豪华海景房
                        <ins>￥540</ins>
                    </dd>
                </dl>
            </div>
            <div class="app-section">
                <div class="d2MapMask">
                    <div id="cvsParent">
                        <canvas id="cvs"></canvas>
                    </div>
                </div>
            </div>
            <div class="cui-view cui-layer hidden" id="j_pop" style="margin-left: -145px; margin-top: -284px; z-index: 3004; visibility: visible;">
                <div class="cui-layer-padding">
                    <div class="cui-layer-content">
                        <div class="cui-pop-box">
                            <div class="cui-hd hotel-hd-title">商务双床房
                                <div class="lab-close-area"><span class="cui-top-close">×</span></div>
                            </div>
                            <div class="cui-bd">
                                <div class="hotel-detail-layer">
                                    <div id="slider" class="swipe" style="width: 280px; height: 190px; margin: auto; overflow: hidden; position: relative;">
                                        <div class="swipe-wrap">
                                            <div><img data-data="" src="images/1.jpg" height="852" width="1136" class="xslide-image-loading"></div>
                                            <div><img data-data="" src="images/2.jpg" height="852" width="1136" class="xslide-image-loading"></div>
                                            <div><img data-data="" src="images/3.jpg" height="852" width="1136" class="xslide-image-loading"></div>
                                            <div><img data-data="" src="images/4.jpg" height="852" width="1136" class="xslide-image-loading"></div>
                                            <div><img data-data="" src="images/5.jpg" height="852" width="1136" class="xslide-image-loading"></div>
                                            <div><img data-data="" src="images/6.jpg" height="852" width="1136" class="xslide-image-loading"></div>
                                        </div>
                                        <p class="banner_num" id="position">
                                            <em class="on">●</em>
                                            <em class=" ">●</em>
                                            <em class=" ">●</em>
                                            <em class=" ">●</em>
                                            <em class=" ">●</em>
                                            <em class=" ">●</em>
                                        </p>
                                    </div>
                                    <ul class="layer-hd p10 js_part1_info">
                                        <li><i class="hotel-icon-area"></i><span>面积</span>36㎡</li>
                                        <li><i class="hotel-icon-people"></i><span>可住</span>2人</li>
                                        <li><i class="hotel-icon-bed2"></i>该房型不可加床</li>
                                        <li><i class="hotel-icon-floor"></i><span>楼层</span>3-13层</li>
                                        <li><i class="hotel-icon-beds-width"></i><span>床宽</span>
                                            <p>双床 1.20米</p>
                                        </li>
                                        <li><i class="hotel-icon-browser"></i><span>宽带</span>
                                            <p>全部房间有线宽带免费</p>
                                        </li>
                                        <li><i class="hotel-icon-smoke"></i><span>无烟</span>
                                            <p>该房可无烟处理</p>
                                        </li>
                                        <li><i class="hotel-icon-font">&nbsp;</i>
                                            <p class="cgray">预计在3小时内回复预订结果。此为向酒店或代理商申请的特殊价格，价格可能变动且不保证预订成功；提交订单后会先操作扣款。特殊需求皆不能保证满足。</p>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                            <div class="cui-ft-fixed">
                                <div class="hotel-detail-layer">
                                    <ul class="layer-bd">
                                        <li>
                                            <button id="toDetailBtn" class="hotel-g-btn js_btn_book  js_tipslayer_evt_trigger" data-evt-name=".js_btn_book">预订</button><em class="g-price"><small>¥</small>628</em></li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="cui-view cui-layer hidden" id="x_pop" style="margin-left: -145px; margin-top: -284px; z-index: 3004; visibility: visible;">
                <div class="cui-layer-padding">
                    <div class="cui-layer-content">
                        <div class="cui-pop-box">
                            <div class="cui-hd hotel-hd-title">会议室
                                <div class="lab-close-area"><span class="cui-top-close">×</span></div>
                            </div>
                            <div class="cui-bd">
                                <div class="hotel-detail-layer">
                                    <div style="width: 280px; height: 190px; margin: auto; overflow: hidden; position: relative;">
                                        <img src="roomImg/metting.jpg" height="100" width="200" class="xslide-image-loading">
                                    </div>
                                    <ul class="layer-hd p10 js_part1_info">
                                        <li><i class="hotel-icon-area"></i><span>面积</span>100㎡</li>
                                        <li><i class="hotel-icon-floor"></i><span>楼层</span>1层</li>
                                        <li><i class="hotel-icon-browser"></i><span>宽带</span>
                                            <p>全部房间有线宽带免费</p>
                                        </li>
                                        <li><i class="hotel-icon-smoke"></i><span>无烟</span>
                                            <p>该房可无烟处理</p>
                                        </li>
                                        <li><i class="hotel-icon-font">&nbsp;</i>
                                            <p class="cgray">预计在3小时内回复预订结果。此为向酒店或代理商申请的特殊价格，价格可能变动且不保证预订成功；提交订单后会先操作扣款。特殊需求皆不能保证满足。</p>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                            <div class="cui-ft-fixed">
                                <div class="hotel-detail-layer">
                                    <ul class="layer-bd">
                                        <li>
                                            <button id="toDetailBtn2" class="hotel-g-btn js_btn_book  js_tipslayer_evt_trigger" data-evt-name=".js_btn_book">预订</button><em class="g-price"><small>¥</small>1000</em></li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="app-page" data-page="order_booking">
        <div class="app-topbar blue">
            <div class="app-button left" data-back></div>
            <div class="app-title">订单填写</div>
        </div>
        <div class="app-content">
            <article class="hotel-booking" id="js_booking_box">
                <!--star booking header 盒子-->
                <div class="booking-hd">
                    <!-- start 基础信息（国内用）-->
                    <section class="booking-hd-msg">
                        <h3>上海嘉汇华美达广场大酒店</h3>
                        <p class="msg-detail">此为向代理商申请的特殊价格，提交订单后会操作扣款，并在12小时内回复您预订结果，请您耐心等待。</p>
                    </section>
                    <!-- end 基础信息（国内用）-->
                </div>
                <!--end booking header 盒子-->
                <div class="booking-bd">
                    <section class="booking-bd-items">
                        <ul class="booking-modify">
                            <!-- start 修改日期按钮 -->
                            <li id="js_checkInOutDay" class="hotel-arr">
                                <div class="modify-ptb w-full">
                                    <span><small>入住</small> <span id="js_checkinDate">3月22日</span> <span class="p10"></span> </span>
                                    <span><small>离店</small> <span id="js_checkoutDate">3月23日</span></span>
                                </div>
                                <span class="modify-txt">修改</span>
                            </li>
                            <!-- end 修改日期按钮 -->
                            <!-- start 修改房间数量 -->
                            <li>
                                <p class="modify-ptb w-full">
                                    商务双床房
                                </p>
                                <div id="js_roomQty">
                                    <div class="cui-view" id="cui-1426956302460"><span class="cui-number-ma"><i class="num-minus num-invalid"></i><input type="tel" class="num-value-txt" value="1" data-key="1" disabled="disabled"><i class="num-add"></i></span></div>
                                </div>
                            </li>
                            <!-- end 修改房间数量 -->
                            <li id="js_selectPassenger" class="">
                                <div id="js_booking_passengerInputInterpret" class="js_passenger_label booking-label hotel-question-mark">入住人</div>
                                <ul id="js_booking_passengerList" class="person-in-items">
                                    <li>
                                        <input type="text" class="hotel-g-input" placeholder="姓名，每间只需填写1人">
                                    </li>
                                </ul>
                            </li>
                            <!-- start 境内手机 -->
                            <li>
                                <label class="booking-label" id="js_switch_phone_ctry" data-key="1">境内手机<span class="hotel-bluepull"></span></label>
                                <input type="tel" maxlength="11" class="hotel-g-input js_input" value="13466121289" id="js_booking_phoneInput" placeholder="用于接收通知">
                                <span id="js_booking_phoneClearBtn" class="hotel-focus-close" style="display: none;"></span>
                            </li>
                            <!-- end 境内手机 -->
                        </ul>
                    </section>
                    <section class="booking-bd-items mt10">
                        <ul class="booking-modify">
                            <!-- start 发票 -->
                            <li id="js_booking_invoice" class="hotel-arr">
                                <label class="booking-label">发票</label>
                                <p id="js_booking_invoiceTitle" class="booking-g-txt">不需要</p>
                            </li>
                            <!-- end 发票 -->
                        </ul>
                    </section>
                    <section class="booking-fd-items">
                    </section>
                    <section class="booking-fd-items booking-tips p10">
                        <!-- start 取消文案 -->
                        <p class="hotel-ordtail-tips" id="js_booking_cancelInfo">订单提交后我们会立即操作扣款，如订单不确认将全额退款至您的付款账户。该订单确认后不可被取消修改，若未入住或取消修改，我们将收取您全额房费RMB 628。</p>
                        <!-- end 取消文案 -->
                        <!-- start 通知信息 -->
                        <p class="hotel-ordtail-tips"> 该酒店的入住时间为14:00，退房标准结算时间为12:00。如提前入住或推迟离店，均须酌情加收一定的费用。</p>
                        <!-- end 通知信息 -->
                    </section>
                </div>
                <!-- start paybar -->
                <section class="hotel-paybar">
                    <button id="js_booking_paybtn" class="pay-btn">支付</button>
                    <div class="pay-txt">
                        <em class="pay-detail" id="js_price_detail_link">明细</em>
                        <em class="pay-total">总额：</em>
                        <em class="pay-price">
                            <small>¥</small><strong>628</strong>
                        </em>
                    </div>
                </section>
                <!-- end paybar -->
                <!-- price detail start-->
                <div class="hidden" id="js_price_detail_wrap">
                    <h2>费用明细</h2>
                    <dl class="cost-list">
                        <dt>
                            <span class="fr g-price"><small>¥</small>628</span>
                            <span class="hotel-font-color">房费</span>
                        </dt>
                        <dd>
                            <span>2015-03-22</span>
                            <span>无早</span>
                            <span><small>¥</small>628 × 1</span>
                        </dd>
                    </dl>
                    <div class="cost-txt">
                        <p>
                            总额：
                            <strong class="g-price">¥ 628</strong>
                        </p>
                    </div>
                </div>
                <!-- price detail end-->
                <!-- popupwindow for PassengerInputInterpret start -->
                <div id="js_popupPassengerInputInterpret" style="display:none">
                    <ol class="hotel-hintlist p10">
                        <li>预订国内酒店需要提供入住人的姓名。需与入住时所持证件完全一致。</li>
                        <li>预订港澳台酒店，必须填写入住人的英文名。</li>
                        <li>
                            英文姓名填写格式（last/first middle）：姓在前，姓和名之间用“/”隔开，如有中间名则空一格紧随名之后,例： Zhang/Sanfeng（张三丰）； Green/Jim Stephanie。
                        </li>
                        <li>中文姓名中不能包含英文字母</li>
                    </ol>
                </div>
                <!-- popupwindow for PassengerInputInterpret end -->
            </article>
        </div>
    </div>
    <script src="lib/zepto.js"></script>
    <script src="lib/app.min.js"></script>
    <script src="data/rooms1.js"></script>
	<script src="data/rooms2.js"></script>
	<script src="data/rooms3.js"></script>
    <script src="plugin/swipe.js"></script>
    <script src="data/list.js"></script>
    <script src="js/2d-map.js"></script>
    <script>
    var flag = true;

    App.controller('hotel_list', function(page) {
        $(page).on('appShow', function() {
            flag = true;
        });
    });

    // 加载酒店详情页
    App.controller('hotel_detail', function(page) {
        $(page).on('appShow', function() {
            var $pop = $(page).find('#j_pop');
            var $pop2 = $(page).find("#x_pop");

            var fn = {
                showPop: function() {
                    $pop.removeClass("hidden");
                },
                x_pop : function (){
                    $pop2.removeClass("hidden");
                },
                hidePop: function() {
                    $pop.addClass('hidden');
                },
                hidePop2: function() {
                    $pop2.addClass('hidden');
                },
                toDetail: function() {
                    App.load('order_booking', function() {
                        fn.hidePop();
                    });
                },
                toDetail2: function() {
                    App.load('order_booking', function() {
                        fn.hidePop2();
                    });
                }
            };

            $(page).find('#j_pop .cui-top-close').on('click', function() {
                fn.hidePop();
            });

            $(page).find('#x_pop .cui-top-close').on('click', function() {
                fn.hidePop2();
            });

            flag && handle(fn);
        });

    });

    App.setDefaultTransition('rotate-left');

    try {
        App.restore();
    } catch (err) {
        // 加载酒店列表页
        App.load('hotel_list');
    }
    </script>
</body>

</html>
